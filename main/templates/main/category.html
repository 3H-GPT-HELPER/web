{% load static %}

<!DOCTYPE html>
<html>

<head>
  <title>Category</title>
  <link href="{% static 'css/styles.css' %}" rel="stylesheet" type="text/css" />
</head>

<body>

  <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease" data-easing2="ease"
    role="banner" class="navigation w-nav">
    <div class="navigation-items"><a href="/" class="logo-link w-nav-brand"><img src="{% static 'img/logo.png' %}"
          width="65" alt="" class="logo-image" /></a>
    </div>
  </div>

  <div class="section">
    <div class="container cc-heading-wrap">
      <h1 class="heading-5">Category</h1>
      <div class="store-categories-wrap">

          <div class="collection-wrap">
            {%for category in userCategories %}
            <button class="button-74" role="button"
              onclick="location.href='/category/{{category.pk}}/'">{{category.inserted_category}}</button>
            {%endfor%}
            
          <!-- 기존꺼 -->
          <!-- {%for category in userCategories %}
            <button class="topic-buttons" onclick="location.href='/category/{{category.pk}}/'">{{category.inserted_category}}</button>
          {%endfor%} -->
          </div>

          

          <input type="text" id="new-keyword-input" placeholder="Enter a new keyword">
          <button id="add-button">Add New Category</button>

      </div>
    </div>
  </div>

  <input id="readInput">
  <button src="{% static 'img/plus.png' %}" onclick="myText()"></button>

  <p id="demo"></p>

  <script>
    function myText(){
    var x = document.getElementById("myText").value;
    document.getElementById("demo").innerHTML = x;}
  </script> 

  <script>
    // Function to add a new button based on user input
    function addNewButton() {
      var newKeyword = document.getElementById("new-keyword-input").value;

      // Ensure that a valid keyword has been entered
      if (newKeyword.trim() !== '') {
        var container = document.getElementById("button-container");

        // Create a new button element
        var newButton = document.createElement("button");
        newButton.className = "button-74";
        newButton.innerHTML = newKeyword;

        // Define an onclick function to navigate based on the keyword
        newButton.onclick = function() {
          navigate(newKeyword);
        };

        // Append the new button to the container
        container.appendChild(newButton);

        // Clear the input field
        document.getElementById("new-keyword-input").value = '';
      }
    }

    // Function to navigate based on a keyword
    function navigate(keyword) {
      // You can construct the URL using keyword and userKeywords_id
      var userKeywords_id = /* Look up the userKeywords_id based on the keyword */;
      var url = "/category/" + userKeywords_id;

      // Redirect to the generated URL
      window.location.href = url;
    }

    // Add an event listener to the "Add Button" button
    document.getElementById("add-button").addEventListener("click", addNewButton);
  </script>

</body>

</html>